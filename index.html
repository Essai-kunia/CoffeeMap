<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta
      name="viewport"
      content="initial-scale=1,user-scalable=no,maximum-scale=1,width=device-width"
    />
    <link rel="shortcut icon" href="images/favicon.png" />
    <meta name="author" content="LasTeam" />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <link rel="stylesheet" href="css/leaflet.css" />
    <link rel="stylesheet" href="css/L.Control.Layers.Tree.css" />
    <link rel="stylesheet" href="css/qgis2web.css" />
    <link rel="stylesheet" href="css/fontawesome-all.min.css" />
    <link rel="stylesheet" href="css/leaflet-search.css" />

    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
      rel="stylesheet"
    />
    <link href="css/bootstrap.min.css" rel="stylesheet" />
    <link href="css/style.css" rel="stylesheet" />
    <style>
      .bodymap {
        display: flex;
        flex-direction: column;
        justify-content: center; /* Pusatkan secara horizontal */
        align-items: center; /* Pusatkan secara vertikal */
        height: 100vh; /* Pastikan kontainer mengisi seluruh tinggi viewport */
        margin: 0; /* Hilangkan margin default */
      }

      .judulmap {
        margin-top: 2rem;
        margin-bottom: 2rem;
      }

      #map {
        width: 75vw; /* Lebar 70% dari lebar viewport */
        height: 85vh; /* Tinggi 70% dari tinggi viewport */
        border: 5px solid #3b5d50; /* Garis tepi dengan ketebalan 5px dan warna hijau */
        background-color: lightblue; /* Warna latar belakang untuk visualisasi */
        border-radius: 20px; /* Membuat ujung-ujung elemen menjadi rounded */
      }
    </style>
    <title>Coffee Map</title>
  </head>
  <body>
    <!-- Start Header/Navigation -->
    <nav
      class="custom-navbar navbar navbar navbar-expand-md navbar-dark bg-dark"
      arial-label="CaffeBot navigation bar"
    >
      <div class="container">
        <a class="navbar-brand" href="#">Coffee Map<span>.</span></a>

        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarsCaffeBot"
          aria-controls="navbarsCaffeBot"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarsCaffeBot">
          <ul class="custom-navbar-nav navbar-nav ms-auto mb-2 mb-md-0">
            <li class="nav-item active">
              <a class="nav-link" href="index.html">Beranda</a>
            </li>
            <li><a class="nav-link" href="#carakafe">Petunjuk</a></li>
            <li><a class="nav-link" href="#petakafebgr">Peta</a></li>
            <li><a class="nav-link" href="daftarkafe.html">Daftar Kafe</a></li>
          </ul>
        </div>
      </div>
    </nav>
    <!-- End Header/Navigation -->

    <!-- Start Hero Section -->
    <section>
      <div class="hero">
        <div class="container">
          <div class="row justify-content-between">
            <div class="col-lg-5">
              <div class="intro-excerpt">
                <h1>
                  Mencari Kafe di <span clsas="d-block">Bogor Tengah?</span>
                </h1>
                <p class="mb-4">
                  Cari Tahu dimana saja kafe berada di Bogor tengah
                </p>
                <p>
                  <a href="#carakafe" class="btn btn-white-outline"
                    >Cari Tahu</a
                  >
                </p>
              </div>
            </div>
            <div class="col-lg-7">
              <div class="hero-img-wrap">
                <img src="images/couch.png" class="img-fluid" />
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
    <!-- End Hero Section -->

    <!-- Start Why Choose Us Section -->
    <section></section>
    <div style="background-color: #ffffff">
      <div class="container why-choose-section">
        <div class="row justify-content-between">
          <div class="col-lg-6">
            <h2 class="section-title">Kenapa Coffee Map</h2>
            <p>
              Coffee Map merupakan website yang dibuat khusus untuk kalian yang
              sedang mencari kafe-kafe di wilayah Bogor tengah dengan beberapa
              keuntungan, yaitu:
            </p>

            <div class="row my-5">
              <div class="col-6 col-md-6">
                <div class="feature">
                  <div class="icon">
                    <img
                      src="images/check-lg.svg"
                      alt="Image"
                      class="imf-fluid"
                    />
                  </div>
                  <h3>Sederhana</h3>
                  <p>Khusus Wilayah Bogor Tengah</p>
                </div>
              </div>

              <div class="col-6 col-md-6">
                <div class="feature">
                  <div class="icon">
                    <img src="images/ban.svg" alt="Image" class="imf-fluid" />
                  </div>
                  <h3>Tidak harus login</h3>
                  <p>Akses langsung website Coffee Map tanpa harus login</p>
                </div>
              </div>

              <div class="col-6 col-md-6">
                <div class="feature">
                  <div class="icon">
                    <img
                      src="images/cash-stack.svg"
                      alt="Image"
                      class="imf-fluid"
                    />
                  </div>
                  <h3>Gratis</h3>
                  <p>Tidak perlu membayar untuk mendapatkan informasi</p>
                </div>
              </div>

              <!-- <div class="col-6 col-md-6">
								<div class="feature">
									<div class="icon">
										<img src="images/return.svg" alt="Image" class="imf-fluid">
									</div>
									<h3>Hassle Free Returns</h3>
									<p>Donec vitae odio quis nisl dapibus malesuada. Nullam ac aliquet velit. Aliquam vulputate.</p>
								</div>
							</div> -->
            </div>
          </div>

          <div class="col-lg-5">
            <div class="img-wrap">
              <img src="images/tmpkafe.png" alt="Image" class="img-fluid" />
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- End Why Choose Us Section -->

    <!-- Cara menggunakan -->
    <section>
      <div class="caraguna" id="carakafe">
        <div class="container">
          <div class="row">
            <!-- Start Column 1 -->
            <div class="col-md-12 col-lg-3 mb-5 mb-lg-0">
              <h2 class="mb-4 section-title">Petunjuk Penggunaan Peta</h2>
              <p class="mb-4">
                Ketahui cara penggunaan Peta sebelum mencari lokasi kafe
              </p>
              <p><a href="#petakafebgr" class="btn">Cari Kafe</a></p>
            </div>
            <!-- End Column 1 -->

            <!-- Start Column 2 -->
            <div class="col-12 col-md-4 col-lg-3 mb-5 mb-md-0">
              <a class="iconfungsi" href="#">
                <img
                  src="images/product-1.png"
                  class="img-fluid product-thumbnail"
                />
                <strong class="Judulfungsi">Zoom In</strong>
                <h5 class="deskripsifungsi">Perbesar ukuran peta</h5>
              </a>
            </div>
            <!-- End Column 2 -->

            <!-- Start Column 3 -->
            <div class="col-12 col-md-4 col-lg-3 mb-5 mb-md-0">
              <a class="iconfungsi" href="cart.html">
                <img
                  src="images/product-2.png"
                  class="img-fluid product-thumbnail"
                />
                <strong class="Judulfungsi">Zoom Out</strong>
                <h5 class="deskripsifungsi">Perkecil ukuran peta</h5>
              </a>
            </div>
            <!-- End Column 3 -->

            <!-- Start Column 4 -->
            <div class="col-12 col-md-4 col-lg-3 mb-5 mb-md-0">
              <a class="iconfungsi" href="cart.html">
                <img
                  src="images/product-3.png"
                  class="img-fluid product-thumbnail"
                />
                <strong class="Judulfungsi">Cari kafe</strong>
                <h5 class="deskripsifungsi">
                  Ketik nama kafe untuk mencari kafe dengan cepat
                </h5>
              </a>
            </div>
            <!-- End Column 4 -->
          </div>
        </div>
      </div>
    </section>
    <!-- End Cara Menggunakan -->

    <!-- Map -->
    <div id="petakafebgr" class="petakafe">
      <div class="bodymap">
        <h2 class="judulmap section-title" style="text-align: center">
          Peta Sebaran Kafe di Wilayah Bogor Tengah
        </h2>
        <div id="map"></div>
        <h5 class="judulmap" style="text-align: center">
          Apakah kamu ingin melihat daftar kafe?
        </h5>
        <p>
          <a href="daftarkafe.html#datakafe" class="btn btn-green-outline"
            >Saya ingin</a
          >
        </p>
      </div>
    </div>
    <script src="js/qgis2web_expressions.js"></script>
    <script src="js/leaflet.js"></script>
    <script src="js/L.Control.Layers.Tree.min.js"></script>
    <script src="js/leaflet.rotatedMarker.js"></script>
    <script src="js/leaflet.pattern.js"></script>
    <script src="js/leaflet-hash.js"></script>
    <script src="js/Autolinker.min.js"></script>
    <script src="js/rbush.min.js"></script>
    <script src="js/labelgun.min.js"></script>
    <script src="js/labels.js"></script>
    <script src="js/leaflet-search.js"></script>
    <script src="data/ADMINISTRASIDESA_AR_25K_1.js"></script>
    <script src="data/Kafe_2.js"></script>
    <script>
      var map = L.map("map", {
        zoomControl: true,
        maxZoom: 19,
        minZoom: 14,
      });
      var hash = new L.Hash(map);
      map.attributionControl.setPrefix(
        '<a href="https://github.com/tomchadwin/qgis2web" target="_blank">qgis2web</a> &middot; <a href="https://leafletjs.com" title="A JS library for interactive maps">Leaflet</a> &middot; <a href="https://qgis.org">QGIS</a>'
      );
      var autolinker = new Autolinker({
        truncate: { length: 30, location: "smart" },
      });
      function removeEmptyRowsFromPopupContent(content, feature) {
        var tempDiv = document.createElement("div");
        tempDiv.innerHTML = content;
        var rows = tempDiv.querySelectorAll("tr");
        for (var i = 0; i < rows.length; i++) {
          var td = rows[i].querySelector("td.visible-with-data");
          var key = td ? td.id : "";
          if (
            td &&
            td.classList.contains("visible-with-data") &&
            feature.properties[key] == null
          ) {
            rows[i].parentNode.removeChild(rows[i]);
          }
        }
        return tempDiv.innerHTML;
      }
      document.querySelector(".leaflet-popup-pane").addEventListener(
        "load",
        function (event) {
          var tagName = event.target.tagName,
            popup = map._popup;
          // Also check if flag is already set.
          if (tagName === "IMG" && popup && !popup._updated) {
            popup._updated = true; // Set flag to prevent looping.
            popup.update();
          }
        },
        true
      );
      var bounds_group = new L.featureGroup([]);
      function setBounds() {
        if (bounds_group.getLayers().length) {
          map.fitBounds(bounds_group.getBounds());
        }
      }
      map.createPane("pane_OpenStreetMap_0");
      map.getPane("pane_OpenStreetMap_0").style.zIndex = 400;
      var layer_OpenStreetMap_0 = L.tileLayer(
        "https://tile.openstreetmap.org/{z}/{x}/{y}.png",
        {
          pane: "pane_OpenStreetMap_0",
          opacity: 1.0,
          attribution: "",
          minZoom: 14,
          maxZoom: 19,
          minNativeZoom: 0,
          maxNativeZoom: 19,
        }
      );
      layer_OpenStreetMap_0;
      map.addLayer(layer_OpenStreetMap_0);
      function pop_ADMINISTRASIDESA_AR_25K_1(feature, layer) {
        var popupContent =
          '<table>\
                    <tr>\
                        <td colspan="2">' +
          (feature.properties["NAMOBJ"] !== null
            ? autolinker.link(feature.properties["NAMOBJ"].toLocaleString())
            : "") +
          "</td>\
                    </tr>\
                </table>";
        layer.bindPopup(popupContent, { maxHeight: 400 });
        var popup = layer.getPopup();
        var content = popup.getContent();
        var updatedContent = removeEmptyRowsFromPopupContent(content, feature);
        popup.setContent(updatedContent);
      }

      function style_ADMINISTRASIDESA_AR_25K_1_0() {
        return {
          pane: "pane_ADMINISTRASIDESA_AR_25K_1",
          opacity: 1,
          color: "rgba(35,35,35,0.15)",
          dashArray: "",
          lineCap: "butt",
          lineJoin: "miter",
          weight: 6.0,
          fill: true,
          fillOpacity: 1,
          fillColor: "rgba(8,0,255,0.15)",
          interactive: true,
        };
      }
      map.createPane("pane_ADMINISTRASIDESA_AR_25K_1");
      map.getPane("pane_ADMINISTRASIDESA_AR_25K_1").style.zIndex = 401;
      map.getPane("pane_ADMINISTRASIDESA_AR_25K_1").style["mix-blend-mode"] =
        "normal";
      var layer_ADMINISTRASIDESA_AR_25K_1 = new L.geoJson(
        json_ADMINISTRASIDESA_AR_25K_1,
        {
          attribution: "",
          interactive: true,
          dataVar: "json_ADMINISTRASIDESA_AR_25K_1",
          layerName: "layer_ADMINISTRASIDESA_AR_25K_1",
          pane: "pane_ADMINISTRASIDESA_AR_25K_1",
          onEachFeature: pop_ADMINISTRASIDESA_AR_25K_1,
          style: style_ADMINISTRASIDESA_AR_25K_1_0,
        }
      );
      bounds_group.addLayer(layer_ADMINISTRASIDESA_AR_25K_1);
      map.addLayer(layer_ADMINISTRASIDESA_AR_25K_1);
      function pop_Kafe_2(feature, layer) {
        var popupContent =
          '<table>\
                    <tr>\
                        <th scope="row">nama</th>\
                        <td class="visible-with-data" id="nama">' +
          (feature.properties["nama"] !== null
            ? autolinker.link(feature.properties["nama"].toLocaleString())
            : "") +
          '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">alamat</th>\
                        <td class="visible-with-data" id="alamat">' +
          (feature.properties["alamat"] !== null
            ? autolinker.link(feature.properties["alamat"].toLocaleString())
            : "") +
          '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">jam</th>\
                        <td class="visible-with-data" id="jam">' +
          (feature.properties["jam"] !== null
            ? autolinker.link(feature.properties["jam"].toLocaleString())
            : "") +
          '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">menu</th>\
                        <td class="visible-with-data" id="menu">' +
          (feature.properties["menu"] !== null
            ? autolinker.link(feature.properties["menu"].toLocaleString())
            : "") +
          "</td>\
                    </tr>\
                </table>";
        layer.bindPopup(popupContent, { maxHeight: 400 });
        var popup = layer.getPopup();
        var content = popup.getContent();
        var updatedContent = removeEmptyRowsFromPopupContent(content, feature);
        popup.setContent(updatedContent);
      }

      function style_Kafe_2_0() {
        return {
          pane: "pane_Kafe_2",
          rotationAngle: 0.0,
          rotationOrigin: "center center",
          icon: L.icon({
            iconUrl: "markers/Kafe_2.svg",
            iconSize: [41.8, 41.8],
          }),
          interactive: true,
        };
      }
      map.createPane("pane_Kafe_2");
      map.getPane("pane_Kafe_2").style.zIndex = 402;
      map.getPane("pane_Kafe_2").style["mix-blend-mode"] = "normal";
      var layer_Kafe_2 = new L.geoJson(json_Kafe_2, {
        attribution: "",
        interactive: true,
        dataVar: "json_Kafe_2",
        layerName: "layer_Kafe_2",
        pane: "pane_Kafe_2",
        onEachFeature: pop_Kafe_2,
        pointToLayer: function (feature, latlng) {
          var context = {
            feature: feature,
            variables: {},
          };
          return L.marker(latlng, style_Kafe_2_0(feature));
        },
      });
      bounds_group.addLayer(layer_Kafe_2);
      map.addLayer(layer_Kafe_2);
      map.on("zoomend", function (e) {
        if (map.getZoom() <= 19 && map.getZoom() >= 12) {
          map.addLayer(layer_Kafe_2);
        } else if (map.getZoom() > 19 || map.getZoom() < 12) {
          map.removeLayer(layer_Kafe_2);
        }
      });
      if (map.getZoom() <= 19 && map.getZoom() >= 12) {
        map.addLayer(layer_Kafe_2);
      } else if (map.getZoom() > 19 || map.getZoom() < 12) {
        map.removeLayer(layer_Kafe_2);
      }
      var baseMaps = {};
      var overlaysTree = [
        { label: '<img src="legend/Kafe_2.png" /> Kafe', layer: layer_Kafe_2 },
        {
          label:
            '<img src="legend/ADMINISTRASIDESA_AR_25K_1.png" /> ADMINISTRASIDESA_AR_25K',
          layer: layer_ADMINISTRASIDESA_AR_25K_1,
        },
        { label: "OpenStreetMap", layer: layer_OpenStreetMap_0 },
      ];
      var lay = L.control.layers.tree(null, overlaysTree, {
        //namedToggle: true,
        //selectorBack: false,
        //closedSymbol: '&#8862; &#x1f5c0;',
        //openedSymbol: '&#8863; &#x1f5c1;',
        //collapseAll: 'Collapse all',
        //expandAll: 'Expand all',
        collapsed: true,
      });
      lay.addTo(map);
      setBounds();
      var i = 0;
      layer_Kafe_2.eachLayer(function (layer) {
        var context = {
          feature: layer.feature,
          variables: {},
        };
        layer.bindTooltip(
          layer.feature.properties["nama"] !== null
            ? String(
                "<div style=\"color: #323232; font-size: 9pt; font-weight: bold; font-family: 'Open Sans', sans-serif;\">" +
                  layer.feature.properties["nama"]
              ) + "</div>"
            : "",
          { permanent: true, offset: [-0, -16], className: "css_Kafe_2" }
        );
        labels.push(layer);
        totalMarkers += 1;
        layer.added = true;
        addLabel(layer, i);
        i++;
      });
      map.addControl(
        new L.Control.Search({
          layer: layer_Kafe_2,
          initial: false,
          hideMarkerOnCollapse: true,
          propertyName: "nama",
        })
      );
      document.getElementsByClassName("search-button")[0].className +=
        " fa fa-binoculars";
      resetLabels([layer_Kafe_2]);
      map.on("zoomend", function () {
        resetLabels([layer_Kafe_2]);
      });
      map.on("layeradd", function () {
        resetLabels([layer_Kafe_2]);
      });
      map.on("layerremove", function () {
        resetLabels([layer_Kafe_2]);
      });
    </script>
    <!-- End Map-->

    <!-- Start Footer Section -->
    <footer class="footer-section">
      <div class="container relative">
        <div class="sofa-img">
          <img src="images/kopi.png" alt="Image" class="img-fluid" />
        </div>

        <div class="row g-5 mb-5">
          <div class="col-lg-4">
            <div class="mb-4 footer-logo-wrap">
              <a href="#" class="footer-logo">Coffee Map<span>.</span></a>
            </div>
            <p class="mb-4">
              Coffee Map merupakan website yang dibuat khusus untuk kalian yang
              sedang mencari kafe-kafe di wilayah Bogor tengah.
            </p>
            <i class="bi bi-facebook"></i>

            <ul class="list-unstyled custom-social">
              <li>
                <a href="#"><span class="fa fa-brands fa-facebook-f"></span></a>
              </li>
              <li>
                <a href="#"><span class="fa fa-brands fa-twitter"></span></a>
              </li>
              <li>
                <a href="#"><span class="fa fa-brands fa-instagram"></span></a>
              </li>
            </ul>
          </div>
        </div>

        <div class="border-top copyright">
          <div class="row pt-4">
            <div class="col-lg-6">
              <p class="mb-2 text-center text-lg-start">
                Copyright &copy;
                <script>
                  document.write(new Date().getFullYear());
                </script>
                . All Rights Reserved.
                <a href="#">LasTeam</a>
              </p>
            </div>
          </div>
        </div>
      </div>
    </footer>
    <!-- End Footer Section -->
  </body>
</html>

